<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Setup &mdash; yggdrasil v1.8.5 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Debugging" href="debugging.html" />
    <link rel="prev" title="Welcome to the 2021 Crops in Silico Hackathon!" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            yggdrasil
          </a>
              <div class="version">
                v1.8.5
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../includeme.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../formatted_io.html">Formatted I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server_client_io.html">Server/Client I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../autowrap.html">Autowrapping Model Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../conditional_io.html">Conditional I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../transformed_io.html">Transformed I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../timesync_io.html">Timestep Synchronization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../yaml.html">YAML Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../config.html">Configuration Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../units.html">Units</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">Command Line Interface (CLI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hpc.html">High Performance Computing (HPC)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../remote.html">Running Integrations as Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docker.html">Docker Containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../c_format_strings.html">C-Style Format Strings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../debugging.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../threading.html">OpenMP Threading in Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/examples_toc.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced/index.html">Advanced</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/index.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../publications.html">Publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hackathon2018/index.html">Welcome to the 2018 Crops in Silico Hackathon!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hackathon2019/index.html">Welcome to the 2019 Crops in Silico Hackathon!</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Welcome to the 2021 Crops in Silico Hackathon!</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#mybinder">MyBinder</a></li>
<li class="toctree-l3"><a class="reference internal" href="#local-install">Local Install</a></li>
<li class="toctree-l3"><a class="reference internal" href="#docker-container">Docker Container</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="debugging.html">Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="intro.html">Introduction to Yggdrasil</a></li>
<li class="toctree-l2"><a class="reference internal" href="notebooks.html">Introduction to Jupyter Notebooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="cli.html">Command Line Interfaces (CLIs)</a></li>
<li class="toctree-l2"><a class="reference internal" href="integration.html">Integration Tips</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">yggdrasil</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Welcome to the 2021 Crops in Silico Hackathon!</a></li>
      <li class="breadcrumb-item active">Setup</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/hackathon2021/setup.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Questions welcome!</strong></p>
<p>This hackathon is intended to help teach scientists how to use the yggdrasil package to connect scientific models. Part of that is answering your questions. Whether you are participating in the hackathon event at the CiS symposium in June or going through these materials on your own, please let us know if you have any questions or difficulties by opening an issue on the hackathon materials <a class="reference external" href="https://github.com/cropsinsilico/CiS2021-hackathon/issues/new">Github repository page</a>. Chances are good that if you have a question/problem, someone else is having the same question/problem. By reporting them as public issues, you are making it easier for us to help you and helping others to find answers in the future as there will be a searchable record of the problem and (hopefully) a solution.</p>
<p>Once you are satisfied that your question/bug has been answered/solved, please close the issue or let us know that we may do so. If you are reporting a bug, please also refer to the <a class="reference internal" href="debugging.html#debugging"><span class="std std-ref">Debugging</span></a> section for tips.</p>
</div>
<section id="setup">
<span id="id1"></span><h1>Setup<a class="headerlink" href="#setup" title="Permalink to this heading">¶</a></h1>
<p>This hackathon is based around materials in Jupyter notebooks located in <a class="reference external" href="https://github.com/cropsinsilico/CiS2021-hackathon">this repository</a>. There are several methods to run them, MyBinder, local install, or Docker container, each of which is described below. We recommend using the MyBinder method as it does not require any local installation, but if you have difficulty opening the MyBinder instance, one of the other methods may be preferable.</p>
<ol class="arabic simple" start="0">
<li><p>Reguardless of the installation method, you will need a browser to access the notebooks. MyBinder fully supports Mozilla Firefox, Google Chrome, and Safari. It may work with Microsoft Edge (or Internet Explorer), but these are not guaranteed. If you have trouble accessing the notebooks, we recommend downloading one of those MyBinder fully supports for this workshop.</p></li>
</ol>
<section id="mybinder">
<h2>MyBinder<a class="headerlink" href="#mybinder" title="Permalink to this heading">¶</a></h2>
<p>MyBinder is a free public service that allows users to run Jupyter notebooks on remote compute resources via BinderHub. This method is the most straight forward as it does not require you to install anything on your machine other than a browser.</p>
<ol class="arabic simple">
<li><p>Open <a class="reference external" href="https://mybinder.org/v2/gh/cropsinsilico/CiS2021-hackathon/HEAD">this link</a> or click the <code class="docutils literal notranslate"><span class="pre">launch</span> <span class="pre">binder</span></code> button in the README for the <a class="reference external" href="https://github.com/cropsinsilico/CiS2021-hackathon">hackathon materials repository</a>.</p></li>
<li><p>Wait for the binder instance to launch. This can take update a few minutes if the repository has been updated recently. When the instance is running, you should see a file browser like below.</p></li>
</ol>
<img alt="../_images/binder_browser.png" src="../_images/binder_browser.png" />
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Changes you make to the notebook are only present on the specific instance that you are interacting with and will disappear when the instance shutdowns. If you want to keep any changes you make, you will need to download the notebook. You can then upload it to future instances.</p>
</div>
</section>
<section id="local-install">
<h2>Local Install<a class="headerlink" href="#local-install" title="Permalink to this heading">¶</a></h2>
<p>This setup method is the most involved, but once it is complete, you will have a local conda environment with yggdrasil installed that can be used in the future.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>One Windows, commands below should be executed from a conda command prompt which should be available in your start menu after installing miniconda.</p>
</div>
<ol class="arabic">
<li><p><strong>Install Miniconda</strong> for your operating system from <a class="reference external" href="https://docs.conda.io/en/latest/miniconda.html">here</a>. Select an installer for Python &gt;=3 (i.e. not 2.7; the installation will still work if you install the 2.7 version, but it will probably be slower).</p></li>
<li><p>[OPTIONAL] <strong>Install ``git``</strong> if you do not already have it. You can either:</p>
<ul class="simple">
<li><p>Use conda (e.g. <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">git</span></code>)</p></li>
<li><p>Use a package manager (e.g. apt, homebrew, choco)</p></li>
<li><p>Download an installer for your operating system from <a class="reference external" href="https://git-scm.com/downloads">here</a></p></li>
</ul>
</li>
<li><p><strong>Clone or Download</strong> the <a class="reference external" href="https://github.com/cropsinsilico/CiS2021-hackathon">hackathon materials repository</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">cropsinsilico</span><span class="o">/</span><span class="n">CiS2021</span><span class="o">-</span><span class="n">hackathon</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">CiS2021</span><span class="o">-</span><span class="n">hackathon</span>
</pre></div>
</div>
<p>If you did not install <code class="docutils literal notranslate"><span class="pre">git</span></code> you can download the repo from the <a class="reference external" href="https://github.com/cropsinsilico/CiS2021-hackathon">repository webpage</a> (click the green “Code” button and select “Download ZIP”)</p>
</li>
<li><p><strong>Create the conda environment</strong> from the <code class="docutils literal notranslate"><span class="pre">environment.yml</span></code> file in the hackathon materials repo. This file includes information about what conda channels should be used and what packages should be installed for the notebooks to work.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">env</span> <span class="n">create</span> <span class="o">-</span><span class="n">f</span> <span class="n">environment</span><span class="o">.</span><span class="n">yml</span>
<span class="n">conda</span> <span class="n">activate</span> <span class="n">CiS2021</span><span class="o">-</span><span class="n">hackathon</span><span class="o">-</span><span class="n">environment</span>
</pre></div>
</div>
</li>
<li><p><strong>Finish installing yggdrasil</strong> by running the <code class="docutils literal notranslate"><span class="pre">postBuild</span></code> script associated with your OS. On Linux/Mac:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="n">postBuild</span>
</pre></div>
</div>
<p>on Windows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">call</span> <span class="n">postBuild</span><span class="o">.</span><span class="n">bat</span>
</pre></div>
</div>
</li>
<li><p><strong>Launch the notebook server</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">jupyter</span> <span class="n">notebook</span>
</pre></div>
</div>
<p>This should open this address <a class="reference external" href="http://localhost:8888/tree">http://localhost:8888/tree</a> on your local machine and display the file browser shown below</p>
</li>
</ol>
<img alt="../_images/local_browser.png" src="../_images/local_browser.png" />
</section>
<section id="docker-container">
<h2>Docker Container<a class="headerlink" href="#docker-container" title="Permalink to this heading">¶</a></h2>
<p>Docker containers allow developer to package the entire stack (operating system, dependencies, scripts, data) required to run projects in a contained environment. In this case, we are using the container to run the Jupyter notebooks so you don’t have to install the dependencies on your machine which can encounter issues on untested releases and/or combinations of operating systems and/or dependencies.</p>
<ol class="arabic">
<li><p><strong>Download and install docker</strong> from <a class="reference external" href="https://docs.docker.com/get-docker/">here</a>.</p></li>
<li><p><strong>Sign-up for DockerHub</strong> <a class="reference external" href="https://hub.docker.com/">here</a>, start docker, and sign-in using your docker hub credentials (either via the desktop app or the <a class="reference external" href="https://docs.docker.com/engine/reference/commandline/login/">command line</a>).</p></li>
<li><p><strong>Pull the hackathon image</strong> from <a class="reference external" href="https://hub.docker.com/r/langmm/hackathon2021">docker hub</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">pull</span> <span class="n">langmm</span><span class="o">/</span><span class="n">hackathon2021</span><span class="p">:</span><span class="mf">0.0.8</span>
</pre></div>
</div>
</li>
<li><p><strong>Create a work directory</strong> that the hackathon container will be used to store updates to the notebooks and compilation products. This can be any directory that you have write access to.</p></li>
<li><p><strong>Start a container</strong> from the hackathon image by running the command below, replacing <code class="docutils literal notranslate"><span class="pre">&lt;some</span> <span class="pre">directory</span> <span class="pre">name&gt;</span></code> with the full path to the directory you wish the image to use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>docker run -it --rm -p 8888:8888 -e NB_UID=$(id -u) --user root -v &lt;some directory name&gt;:/tmp langmm/hackathon2021:0.0.8
</pre></div>
</div>
</li>
<li><p><strong>Open the browser</strong> by going to <a class="reference external" href="http://localhost:8888/tree">http://localhost:8888/tree</a> in your browser. You should see a file browser like the one below</p></li>
</ol>
<img alt="../_images/docker_finder.png" src="../_images/docker_finder.png" />
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to the 2021 Crops in Silico Hackathon!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="debugging.html" class="btn btn-neutral float-right" title="Debugging" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017, Meagan Lang, David Raila.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>