.. _rpc_lesson3b_rst:

rpc_lesson3b
===================================

This example is identical to the `rpc_lesson3` example except that 10 copies of the `server` model are run via the `copies` model parameter and the `client` model makes calls the server from inside an OpenMP threaded loop. This example demonstrates the use of the RPC communication pattern in conjunction with automated model wrapping, OpenMP threading, and model duplication.


.. contents:: :local:

C Version
---------

Model Code:

.. literalinclude:: /../../yggdrasil/examples/rpc_lesson3b/src/server.c
   :language: c
   :linenos:

.. literalinclude:: /../../yggdrasil/examples/rpc_lesson3b/src/client.c
   :language: c
   :linenos:


Model YAML:

.. literalinclude:: /../../yggdrasil/examples/rpc_lesson3b/server_c.yml
   :language: yaml
   :linenos:

.. literalinclude:: /../../yggdrasil/examples/rpc_lesson3b/client_c.yml
   :language: yaml
   :linenos:



C++ Version
-----------

Model Code:

.. literalinclude:: /../../yggdrasil/examples/rpc_lesson3b/src/server.cpp
   :language: c++
   :linenos:

.. literalinclude:: /../../yggdrasil/examples/rpc_lesson3b/src/client.cpp
   :language: c++
   :linenos:


Model YAML:

.. literalinclude:: /../../yggdrasil/examples/rpc_lesson3b/server_cpp.yml
   :language: yaml
   :linenos:

.. literalinclude:: /../../yggdrasil/examples/rpc_lesson3b/client_cpp.yml
   :language: yaml
   :linenos:



Fortran Version
---------------

Model Code:

.. literalinclude:: /../../yggdrasil/examples/rpc_lesson3b/src/server.f90
   :language: python
   :linenos:

.. literalinclude:: /../../yggdrasil/examples/rpc_lesson3b/src/client.f90
   :language: python
   :linenos:


Model YAML:

.. literalinclude:: /../../yggdrasil/examples/rpc_lesson3b/server_fortran.yml
   :language: yaml
   :linenos:

.. literalinclude:: /../../yggdrasil/examples/rpc_lesson3b/client_fortran.yml
   :language: yaml
   :linenos:



Python Version
--------------

Model Code:

.. literalinclude:: /../../yggdrasil/examples/rpc_lesson3b/src/server.py
   :language: python
   :linenos:

.. literalinclude:: /../../yggdrasil/examples/rpc_lesson3b/src/client.py
   :language: python
   :linenos:


Model YAML:

.. literalinclude:: /../../yggdrasil/examples/rpc_lesson3b/server_python.yml
   :language: yaml
   :linenos:

.. literalinclude:: /../../yggdrasil/examples/rpc_lesson3b/client_python.yml
   :language: yaml
   :linenos:



