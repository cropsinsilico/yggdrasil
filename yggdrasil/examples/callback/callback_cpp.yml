models:
  - name: cpp_modelA
    language: cpp
    args: ./src/callback_modelA.cpp
    function: modelA_function
    outputs:
      - name: cpp_modelA:output
        vars:
          - out_val

  - name: cpp_modelB
    language: cpp
    args: ./src/callback_modelB.cpp
    function: modelB_function
    outputs:
      - name: cpp_modelB:output
        vars:
          - in_val_copy
          - out_val

connections:
  - input: ./Input/input.txt  # Connection between file and model A input
    output: cpp_modelA:input
    filetype: table
  - input: cpp_modelA:output  # Connection between model A output & model B input
    output: cpp_modelB:input
    callback:
      function: ./src/callback.py:callback_function
      interval: 2
  - inputs: cpp_modelB:output  # Connection between model B output and file
    output: ./outputB.txt
    filetype: table
    field_names: InputMassRate,OuputMassRate
    field_units: g/s,g/s
    format_str: "%.1lf\t%.1lf\n"
